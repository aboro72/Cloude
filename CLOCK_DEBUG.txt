================================================================================
  UHRENPROBLEM - DEBUGGING ANLEITUNG
================================================================================

Die Uhr wird nicht angezeigt obwohl die MIME-Type korrekt ist (application/clock).

Das kann mehrere Gr√ºnde haben. Lass mich dir helfen das zu diagnostizieren:

================================================================================
SCHRITT 1: DEBUG-SEITE AUFRUFEN
================================================================================

Gehe zu:
  http://localhost:8000/debug/plugins/

Schau nach:
  ‚úì "Installed Plugins" - Ist "Analog Clock Preview" da?
  ‚úì Status - Zeigt es "‚úÖ Active"?
  ‚úì "Registered Hooks" - Steht dort "FILE_PREVIEW_PROVIDER"?

Falls NEIN zu einem dieser Punkte:
  ‚Üí Gehe zu http://localhost:8000/settings/
  ‚Üí Klick "Activate" auf Clock Preview
  ‚Üí Warte 2 Sekunden
  ‚Üí Gehe zur√ºck zu Debug-Seite

================================================================================
SCHRITT 2: DJANGO SERVER-LOG CHECKEN
================================================================================

Schau auf deinen Server-Terminal (wo du "runserver" gestartet hast).

Suche nach Zeilen mit "application/clock":

GUTES ZEICHEN:
  ‚úì "Looking for handlers for mime_type=application/clock, found 1 handlers"
  ‚úì "Instantiated provider: ClockPreviewProvider"
  ‚úì "Plugin preview enabled for test.clock (mime_type=application/clock)"

SCHLECHTES ZEICHEN:
  ‚úó "Looking for handlers for mime_type=application/clock, found 0 handlers"
     ‚Üí Hook ist nicht registriert!
  ‚úó "Provider cannot preview file: test.clock"
     ‚Üí Handler sagt: kann nicht previewen
  ‚úó "Error" oder "Exception"
     ‚Üí Es gibt einen Fehler

Falls du "found 0 handlers" siehst:
  ‚Üí Das Plugin ist wahrscheinlich nicht richtig aktiviert

================================================================================
SCHRITT 3: PLUGIN NEULADEN
================================================================================

Falls das Plugin nicht aktiv ist:

1. Gehe zu http://localhost:8000/settings/
2. Suche "Analog Clock Preview"
3. Falls Status "‚≠ï Inactive" ist:
   ‚Üí Klick "üü¢ Activate"
   ‚Üí Warte auf Success-Meldung
4. Falls Status "‚ùå Error" ist:
   ‚Üí Es gibt einen Fehler beim Laden
   ‚Üí Klick auf den Error-Text (im Details-Panel)
   ‚Üí Sieht du eine Fehlermeldung?

================================================================================
SCHRITT 4: BROWSER CACHE LEEREN
================================================================================

Manchmal cached der Browser alte Seiten:

1. Dr√ºcke: Ctrl+F5 (Hard Refresh)
   oder
2. √ñffne DevTools: F12
   ‚Üí Gehe zu Network Tab
   ‚Üí Mache einen Hard Reload (Ctrl+F5)

Dann versuche nochmal die test.clock Datei zu √∂ffnen.

================================================================================
SCHRITT 5: NEUE TESTDATEI ERSTELLEN
================================================================================

Falls immer noch nichts funktioniert, erstelle eine komplett neue Datei:

1. Gehe zu http://localhost:8000/storage/
2. Klick "üìù Datei erstellen"
3. Dateiname: test2.clock (neue Datei!)
4. Klick "‚úÖ Datei erstellen"
5. Klick auf test2.clock um zu √∂ffnen

Manchmal hilft eine neue Datei wenn die alte gecacht wurde.

================================================================================
CHECKLISTE F√úR DIAGNOSE
================================================================================

Bitte beantworte folgende Fragen:

1. DEBUG-SEITE (http://localhost:8000/debug/plugins/):
   [ ] Zeigt "Installed Plugins"?
   [ ] Ist "Analog Clock Preview" in der Liste?
   [ ] Status: ‚úÖ Active oder ‚≠ï Inactive oder ‚ùå Error?
   [ ] Unter "Registered Hooks": Siehst du "FILE_PREVIEW_PROVIDER"?

2. SERVER-LOG:
   Kopiere die Zeile aus dem Log die "application/clock" enth√§lt:
   ___________________________________________________

3. Fehlermeldung:
   [ ] Siehst du "found 0 handlers" oder "found 1 handlers"?
   [ ] Gibt es Error/Exception Meldungen?

================================================================================
WAS ICH GEFIXT HABE
================================================================================

Das Problem war, dass wenn `can_preview = False` gesetzt wurde, das ganze
Preview-Block √ºbersprungen wurde (auch das Plugin-Block).

NEUE LOGIK:
  1. Zuerst Plugin-Handler √ºberpr√ºfen
  2. Dann Standard-Typen (image, pdf, text, etc.)
  3. can_preview = True wenn ENTWEDER Standard OR Plugin-Preview

Das sollte funktionieren. Aber ohne zu sehen was auf der Debug-Seite steht,
kann ich nicht diagnostizieren warum die Uhr nicht angezeigt wird.

================================================================================
M√ñGLICHE PROBLEME
================================================================================

1. Plugin ist nicht aktiviert
   ‚Üí Gehe zu Settings und aktiviere es

2. Hook ist nicht registriert
   ‚Üí K√∂nnte sein dass ready() einen Fehler hat
   ‚Üí Schau Server-Log auf Fehler

3. MIME-Type wird nicht erkannt
   ‚Üí Sollte aber sein, du siehst "application/clock" in Details
   ‚Üí K√∂nnte aber sein dass die Datei 0 Bytes ist (leer)

4. Browser Cache
   ‚Üí Hard Refresh: Ctrl+F5

5. Django Cache
   ‚Üí Starte Server neu: Ctrl+C und dann runserver erneut

================================================================================
BITTE BERICHTE:
================================================================================

1. Was zeigt die Debug-Seite?
   - Ist Clock Preview aktiv oder inaktiv?
   - Wird FILE_PREVIEW_PROVIDER unter "Registered Hooks" gezeigt?

2. Was steht im Server-Log?
   - Copy & Paste die Zeile mit "application/clock"

3. Hast du probiert:
   [ ] Hard Refresh (Ctrl+F5)?
   [ ] Server neu gestartet?
   [ ] Plugin neu aktiviert?

Mit diesen Infos kann ich das Problem finden und fixen!

================================================================================
